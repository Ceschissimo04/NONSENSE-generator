@startuml
Actor User

User -> GUI: Click "Generate" 
GUI -> ControllerApplication: generate(sentence, template, tense)
ControllerApplication -> ApiHandler: getElementsOfTextLemma(sentence) 
ApiHandler -> syntaxApiHandler: Call Syntax API (sentence) 
syntaxApiHandler --> ApiHandler: JSON response 
ApiHandler --> ControllerApplication: List<Pair<String, String>> 
ControllerApplication -> Generator: generateSentences(elements, template, tense)
Generator -> Dictionary: getRandomWord(type) 

'qui forse da mettere un loop
Dictionary --> Generator: word 
Generator -> ToxicityApiHandler: getToxicityScoreList(generatedSentences)
ToxicityApiHandler --> Generator:List<Pair<String, Integer>> generatedSentences,ToxicityScore

'in realta ToxicityScore viene concatenato alle generatedSentences
Generator --> ControllerApplication: List<String> generatedSentences 
ControllerApplication --> GUI: Display generatedSentences
GUI --> User: Show generatedSentences

@enduml